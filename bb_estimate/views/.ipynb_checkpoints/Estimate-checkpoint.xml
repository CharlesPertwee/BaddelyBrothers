<odoo>
  <data>
    <record id="estimate_tree_view" model="ir.ui.view">
        <field name="name">estimate.tree</field>
        <field name="model">bb_estimate.estimate</field>
        <field name="arch" type="xml">
            <tree string="Estimate">
                <field name="estimate_number" />
                <field name="estimate_date" />
                <field name="title" />
                <field name="partner_id" />
                <field name="project" />
                <field name="estimator" />
                <field name="state" />
            </tree>
        </field>
    </record>
    
    <record id="estimate_form_view" model="ir.ui.view">
        <field name="name">estimate.form</field>
        <field name="model">bb_estimate.estimate</field>
        <field name="arch" type="xml">
            <form string="Estimate">
                <header>
                    <field name="state" widget="statusbar" clickable="True" />
                </header>
                <sheet>
                    <div class="oe_title" id="title">
                        <label for="title" class="oe_edit_only" />
                        <h1 id="title">
                            <field name="title" placeholder="Estimate Title" />
                        </h1>
                    </div>
                    <div class="container" style="padding-top:15px;">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="partner_id" class="col-md-4" />
                                    <field name="partner_id" domain="[('is_company','=',True)]" class="col-md-7"/>
                                </div>
                                <div class="form-group">
                                    <label for="contact" class="col-md-4" />
                                    <field name="contact" domain="[('parent_id','=',partner_id)]" class="col-md-7" />
                                </div>
                                <div class="form-group">
                                    <label for="project" class="col-md-4" />
                                    <field name="project" class="col-md-7" />
                                </div>
                                <div class="form-group">
                                    <label for="invoice_account" class="col-md-4" />
                                    <field name="invoice_account" class="col-md-7" />
                                </div>
                                <div class="form-group">
                                    <label for="invoice_address" class="col-md-4" />
                                    <field name="invoice_address" domain="[('type','=','invoice')]" class="col-md-7" />
                                </div>
                                <div class="form-group">
                                    <label for="invoice_contact" class="col-md-4" />
                                    <field name="invoice_contact" domain="[('parent_id','=',partner_id)]" class="col-md-7" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="product_type" class="col-md-4" />
                                    <field name="product_type" domain="[('categ_id.name','=','Finished Goods')]" class="col-md-7" />
                                </div>
                                <div class="form-group">
                                    <label for="estimate_date" class="col-md-4" />
                                    <field name="estimate_date" class="col-md-7" edit="false"/>
                                </div>
                                <div class="form-group">
                                    <label for="estimator" class="col-md-4" />
                                    <field name="estimator" class="col-md-7" />
                                </div>
                                <div class="form-group">
                                    <label for="office_copy" class="col-md-4" />
                                    <field name="office_copy" class="col-md-7" />
                                </div>
                                <div class="form-group">
                                    <label for="estimate_number" class="col-md-4" />
                                    <field name="estimate_number" class="col-md-7" edit="false"/>
                                </div>
                                <div class="form-group">
                                    <label for="event_date" class="col-md-4" />
                                    <field name="event_date" class="col-md-7" />
                                </div>
                                <div class="form-group">
                                    <label for="target_dispatch_date" class="col-md-4" />
                                    <field name="target_dispatch_date" class="col-md-7" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <notebook colspan='4'>
                        <page string="Estimate Details" autofocus="autofocus">
                            <div class="container">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="quantity_1" class="col-md-4"/>
                                            <field name="quantity_1" class="col-md-7"/>
                                        </div>
                                        <div class="form-group">
                                            <label for="quantity_2" class="col-md-4"/>
                                            <field name="quantity_2" class="col-md-7"/>
                                        </div>
                                        <div class="form-group">
                                            <label for="run_on" class="col-md-4"/>
                                            <field name="run_on" class="col-md-7"/>
                                        </div>
                                        <div class="form-group">
                                            <label for="number_up" class="col-md-4"/>
                                            <field name="number_up" class="col-md-7"/>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="quantity_3" class="col-md-4"/>
                                            <field name="quantity_3" class="col-md-7"/>
                                        </div>
                                        <div class="form-group">
                                            <label for="quantity_4" class="col-md-4"/>
                                            <field name="quantity_4" class="col-md-7"/>
                                        </div>
                                        <div class="form-group">
                                            <label for="grammage" class="col-md-4"/>
                                            <field name="grammage" class="col-md-7"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="background-color:#FFFFFF; padding-top:10px; padding:10px;">
                                <field name="estimate_line" context="{'default_quantity_1':quantity_1,'default_quantity_2':quantity_2,'default_run_on':run_on,'default_quantity_3':quantity_3,'default_quantity_4':quantity_4,'default_param_number_up':number_up}" attrs="{'readonly':[('quantity_1','=',0),('quantity_2','=',0),('quantity_3','=',0),('quantity_4','=',0),('number_up','=',0)]}">
                                    <!--tree>
                                        <field name="product_display_name"/>
                                        <field name="customer_description"/>
                                        <field name="total_price_1"/>
                                        <field name="total_price_2"/>
                                        <field name="total_price_3"/>
                                        <field name="total_price_4"/>
                                        <field name="total_price_run_on"/>
                                    </tree-->
                                </field>
                            </div>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>  
     
    <record model="ir.ui.view" id="estimate_kanban_view">
       <field name="name">estimate.kanban</field>
       <field name="model">bb_estimate.estimate</field>
       <field name="arch" type="xml">
           <kanban default_group_by="state" class="o_kanban_small_column">
               <field name="state" options='{"group_by_tooltip": {"description": "Stage Description"}}'/>
               <field name="target_dispatch_date"/>
               <templates>
                   <t t-name="kanban-box">
                       <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                           <div class="oe_kanban_content">
                               <div class="o_kanban_record_top">
                                   <div class="o_kanban_record_headings">
                                       <strong class="o_kanban_record_title"><field name="title"/></strong><br/>
                                       <small class="o_kanban_record_subtitle text-muted">
                                           <t t-if="record.target_dispatch_date.raw_value and record.target_dispatch_date.raw_value lt (new Date())" t-set="red">oe_kanban_text_red</t>
                                           <span t-attf-class="#{red || ''}"><i><field name="target_dispatch_date"/></i></span>
                                       </small>
                                   </div>
                               </div>
                               <div class="o_kanban_record_body">
                                    
                                </div>
                               <div class="o_kanban_record_bottom">
                                    <div class="oe_kanban_bottom_left">
                                    </div>
                                    <div class="oe_kanban_bottom_right">
                                    </div>
                                </div>
                           </div>
                       </div>
                   </t>
              </templates>
           </kanban>
       </field>
    </record>
    
    <record id="estimate_graph_view" model="ir.ui.view">
        <field name="name">estimate.graph</field>
        <field name="model">bb_estimate.estimate</field>
        <field name="arch" type="xml">
            <graph string="Estimates">
                <!--<field name="id"/>-->
                <field name="state"/>
            </graph>
        </field>
    </record>
      
    <record model="ir.actions.act_window" id="bb_estimate.action_window_estimate">
        <field name="name">Estimates</field>
        <field name="res_model">bb_estimate.estimate</field>
        <field name="view_type">form</field>
        <field name="view_mode">kanban,tree,form,graph</field>
        <field name="domain">[]</field>
        <field name="help" type="html">
           <p class="oe_view_nocontent_create">Create New Estimate</p>
        </field>
    </record>
      
    <menuitem name="Job Estimates" id="bb_estimate_estimates" action="bb_estimate.action_window_estimate"/>
    
  </data>
</odoo>