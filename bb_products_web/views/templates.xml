<odoo>
    <data>
        <template id="assets_frontend" inherit_id="website.assets_frontend">
            <xpath expr="link[last()]" position="after">
                <link rel="stylesheet" type="text/scss" href="/bb_products_web/static/src/scss/bb_WebsiteSales.scss" />
            </xpath>
            <xpath expr="script[last()]" position="after">
                <script type="text/javascript" src="/bb_products_web/static/src/js/bb_WebsiteSales.js"></script>
            </xpath>
        </template>
        
        <template id="product_quantity_bb" inherit_id="website_sale.product_quantity">
            <xpath expr="//input[@name='add_qty']" position="replace">
                <input type="text" class="form-control quantity" data-min="1" name="add_qty" t-att-value="add_qty or 1" readonly="1"/>
            </xpath>
        </template>
        
        <template id="product_price_bb" inherit_id="website_sale.product_price">
            <xpath expr="//h4[hasclass('decimal_precision')]" position="replace">
                
            </xpath>
            
            <xpath expr="//div[hasclass('mt16')]/h4[1]/span[1]" position="before">
                <span>Unit Price</span>
                <input type="hidden" name="roundOff" id="roundOff" class="roundOff" value="100"/>
            </xpath>
              
        </template>
       
        <template id="product_quantity" inherit_id="website_sale.product" customize_show="True" name="Select Quantity">
          <xpath expr="//a[@id='add_to_cart']" position="before">
		  <div class="row col-sm-12"> 
			<span class="roundOffMsg" id="roundOffMsg">Minimum Quantity and multiples of the same this product can be ordered in: 100</span>
	  	</div>
          </xpath>
        </template>
        
        <template id="cart_lines_bb" inherit_id="website_sale.cart_lines">
            
            <xpath expr="//table" position="replace">
                <table class="mb16 table table-striped table-sm js_cart_lines" id="cart_products" t-if="website_sale_order and website_sale_order.website_order_line">
                    <thead>
                        <tr>
                            <th class="td-img">Product</th>
                            <th></th>
                            <th class="text-center td-qty">Quantity</th>
                            <th class="text-center td-price">Unit Price</th>
                            <th class="text-center td-price">Total Price</th>
                            <th class="text-center td-action"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="website_sale_order.website_order_line" t-as="line">
                            <tr t-att-class="'optional_product info' if line.linked_line_id else None">
                                <td colspan="2" t-if="not line.product_id.product_tmpl_id" class='td-img'></td>
                                <td align="center" t-if="line.product_id.product_tmpl_id" class='td-img'>
                                    <span t-field="line.product_id.image_small" t-options="{'widget': 'image', 'class': 'rounded'}" />
                                </td>
                                <td t-if="line.product_id.product_tmpl_id" class='td-product_name'>
                                    <div>
                                        <t t-call="website_sale.cart_line_product_link">
                                            <strong t-field="line.name_short" />
                                        </t>
                                    </div>
                                    <t t-call="website_sale.cart_line_description_following_lines">
                                        <t t-set="div_class" t-value="'d-none d-md-block'"/>
                                    </t>
                                </td>
                                <td class="text-center td-qty">
                                    <input type="hidden" name="roundOff" id="roundOff" class="roundOff" t-att-value="line.product_id.product_tmpl_id.roundOff"/>
                                    <div t-if="not line.linked_line_id" class="css_quantity input-group oe_website_spinner">
                                        <div class="input-group-prepend">
                                            <a t-attf-href="#" class="btn btn-link js_add_cart_json d-none d-md-inline-block" aria-label="Remove one" title="Remove one">
                                                <i class="fa fa-minus"></i>
                                            </a>
                                        </div>
                                        <input type="text" class="js_quantity form-control quantity" t-att-data-line-id="line.id" t-att-data-product-id="line.product_id.id" t-att-value="int(line.product_uom_qty) == line.product_uom_qty and int(line.product_uom_qty) or line.product_uom_qty" />
                                        <div class="input-group-append">
                                            <a t-attf-href="#" class="btn btn-link float_left js_add_cart_json d-none d-md-inline-block" aria-label="Add one" title="Add one">
                                                <i class="fa fa-plus"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <t t-if="line.linked_line_id">
                                      <span class="js_quantity text-muted" t-att-data-line-id="line.id" t-att-data-product-id="line.product_id.id" t-esc="int(line.product_uom_qty)"/>
                                    </t>
                                </td>
                                <td class="text-center td-price" name="price">
                                    <t t-if="(compute_currency(line.product_id.lst_price) - line.price_reduce ) &gt; 0.01  and website.get_current_pricelist().discount_policy=='without_discount'">
                                        <del t-attf-class="#{'text-danger mr8'}" style="white-space: nowrap;" t-esc="compute_currency(line.product_id.website_public_price)" t-options="{'widget': 'monetary', 'display_currency': website.get_current_pricelist().currency_id, 'from_currency': website.currency_id}" />
                                    </t>
                                    <span t-field="line.price_reduce_taxexcl" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" groups="account.group_show_line_subtotals_tax_excluded" />
                                    <span t-field="line.price_reduce_taxinc" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" groups="account.group_show_line_subtotals_tax_included" />
                                </td>
                                <td class="text-center td-price" name="price">
                                    <t t-if="(compute_currency(line.product_id.lst_price) - line.price_reduce ) &gt; 0.01  and website.get_current_pricelist().discount_policy=='without_discount'">
                                        <del t-attf-class="#{'text-danger mr8'}" style="white-space: nowrap;" t-esc="compute_currency(line.product_id.website_public_price)" t-options="{'widget': 'monetary', 'display_currency': website.get_current_pricelist().currency_id, 'from_currency': website.currency_id}" />
                                    </t>
                                    <span t-esc="line.price_reduce_taxexcl  * int(line.product_uom_qty)" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" groups="account.group_show_line_subtotals_tax_excluded" />
                                    <span t-esc="line.price_reduce_taxinc  * int(line.product_uom_qty)" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" groups="account.group_show_line_subtotals_tax_included" />
                                </td>
                                <td class="td-action">
                                    <a href='#' aria-label="Remove from cart" title="Remove from cart" class='js_delete_product no-decoration'> <small><i class='fa fa-trash-o'></i></small></a>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </xpath>
            
        </template>
        
        <template id="cart_summary_bb" inherit_id="website_sale.cart_summary">
            
            <xpath expr="//div[hasclass('card')]" position="replace">
                <div class="card">
                    <div class="card-body p-xl-0">
                        <div class="toggle_summary d-xl-none">
                            <b>Your order: </b> <span t-field="website_sale_order.amount_total" t-options='{"widget": "monetary", "display_currency": website_sale_order.pricelist_id.currency_id}'/>
                            <span class='fa fa-chevron-down fa-border float-right' role="img" aria-label="Details" title="Details"></span>
                        </div>
                        <div t-if="not website_sale_order or not website_sale_order.website_order_line" class="alert alert-info">
                            Your cart is empty!
                        </div>
                        <div class="toggle_summary_div d-none d-xl-block">
                            <table class="table table-striped table-sm w-xl-0" id="cart_products" t-if="website_sale_order and website_sale_order.website_order_line">
                                <thead>
                                    <tr>
                                        <th class="border-top-0 td-img">Product</th>
                                        <th class="border-top-0"></th>
                                        <th class="border-top-0 td-qty">Quantity</th>
                                        <th class="border-top-0 text-center td-price">Unit Price</th>
                                        <th class="border-top-0 text-center td-price">Total Price</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr t-foreach="website_sale_order.website_order_line" t-as="line">
                                        <td class='' colspan="2" t-if="not line.product_id.product_tmpl_id"></td>
                                        <td class='td-img' t-if="line.product_id.product_tmpl_id">
                                            <span t-field="line.product_id.image_small" t-options="{'widget': 'image', 'class': 'rounded'}" />
                                        </td>
                                        <td class='td-product_name' t-if="line.product_id.product_tmpl_id">
                                            <div>
                                                <strong t-field="line.name_short" />
                                            </div>
                                        </td>
                                        <td class='td-qty'>
                                            <div t-esc="line.product_uom_qty" />
                                        </td>
                                        <td class="text-center td-price">
                                            <span t-field="line.price_reduce_taxexcl" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" groups="account.group_show_line_subtotals_tax_excluded" />
                                            <span t-field="line.price_reduce_taxinc" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" groups="account.group_show_line_subtotals_tax_included" />
                                        </td>
                                        <td class="text-center td-price">
                                            <span t-esc="line.price_reduce_taxexcl  * int(line.product_uom_qty)" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" groups="account.group_show_line_subtotals_tax_excluded" />
                                            <span t-esc="line.price_reduce_taxinc * int(line.product_uom_qty)" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" groups="account.group_show_line_subtotals_tax_included" />
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <t t-call="website_sale.total">
                                <t t-set='redirect'>/shop/payment</t>
                            </t>
                        </div>
                    </div>
                </div>
            </xpath>
           
        </template>
        
        <!--template id="optional_product_items_bb" inherit_id="sale.optional_product_items">
            <xpath expr="." position="replace">
                <t t-foreach="product.optional_product_ids" t-as="product">
                    <t t-if="len(product.get_filtered_variants(reference_product)) > 0 or product.has_dynamic_attributes()">
                        <tr class="js_product">
                            <td class="td-img">
                                <input type="hidden" class="product_template_id" t-att-value="product.id"/>
                                <input type="hidden" class="product_id" t-attf-name="optional-product-#{product.id}" t-att-value="product.product_variant_id.id if len(product.product_variant_ids) == 1 else '0'"/>
                                <input type="hidden" class="product_display_name" t-attf-name="optional-productname-#{product.id}" t-att-value="product.product_variant_id.display_name if len(product.product_variant_ids) == 1 else ''"/>
                                <span t-field="product.image_small" t-options='{"widget": "image"}' class="variant_image"/>
                            </td>
                            <td class='td-product_name'>
                                <div class="float-left">
                                    <strong class="product-name" t-field="product.name"/>
                                    <div class="text-muted small" t-field="product.description_sale"/>
                                </div>
                            </td>
                            <td>
                            </td>
                            <td class="td-qty">
                                <div class="float-right">
                                    <t t-call="sale.variants"/>
                                </div>
                            </td>
                            <td class="text-center td-price">
                                <span class="text-danger oe_default_price oe_optional"
                                    t-field="product.lst_price"
                                    t-options='{
                                    "widget": "monetary",
                                    "from_currency": product.currency_id,
                                    "display_currency": to_currency
                                  }'/>
                                <span class="oe_price" style="white-space: nowrap;"
                                    t-field="product.price"
                                    t-options='{
                                        "widget": "monetary",
                                        "display_currency": to_currency
                                  }'/>
                                <span class="js_raw_price d-none" t-esc="product.price" />
                                <p class="css_not_available_msg bg-danger" style="padding: 5px;">Option not available</p>

                                <input type="hidden" class="js_optional_same_quantity" t-attf-name="optional-add-#{product.id}" value="0"/>
                                <a role="button" href="#" class="js_add"><i class="fa fa-shopping-cart add-optionnal-item"></i></a>
                                <span class="js_remove d-none">
                                    <span class="optional_product_quantity"><span class="js_item add_qty">1 </span><span class="js_items d-none">5 </span> <span t-field="product.uom_id.sudo().name"/><br/></span>
                                    <a role="button" href="#" class="js_remove"><i class="fa fa-trash-o remove-optionnal-item"></i></a>
                                </span>
                            </td>
                        </tr>
                    </t>
                </t>
            </xpath>
        </template-->
        
        <template id="product_configurator_configure_optional_products_bb" inherit_id="sale.product_configurator_configure_optional_products">
              <xpath expr="//table" position="replace">
                  <table class="table table-striped table-sm">
                    <thead>
                        <tr>
                            <th class="td-img">Product</th>
                            <th></th>
                            <th class="text-center td-qty">Quantity</th>
                            <th class="text-center td-price">Unit Price</th>
                            <!--th class="text-center td-price">Total Price</th-->
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="js_product in_cart main_product">
                            <input type="hidden" class="product_template_id" t-att-value="product.product_tmpl_id.id"/>
                            <input type="hidden" class="product_id" t-att-value="product.id"/>
                            <input type="hidden" class="product_id roundOff" name="roundOff" id="roundOff" t-att-value="product.roundOff"/>
                            
                            <td class='td-img'>
                                <span t-field="product.image_medium" t-options='{"widget": "image" }'/>
                            </td>
                            <td class='td-product_name'>
                                <strong t-field="product.display_name"/>
                                <div class="text-muted small">
                                    <div t-field="product.description_sale"/>
                                    <div class="js_attributes"/>
                                </div>
                            </td>
                            <td class="text-center td-qty">
                                <input type="hidden" name="roundOff" id="roundOff" class="roundOff" value="100"/>
                                <div class="css_quantity input-group oe_website_spinner">
                                    <div class="input-group-prepend">
                                        <button t-attf-href="#" class="btn btn-primary js_add_cart_json d-none d-md-inline-block" aria-label="Remove one" title="Remove one">
                                            <i class="fa fa-minus"></i>
                                        </button>
                                    </div>
                                    <input type="text" class="js_quantity form-control quantity" data-min="1" name="add_qty" value="1"/>
                                    <div class="input-group-append">
                                        <button t-attf-href="#" class="btn btn-primary float_left js_add_cart_json d-none d-md-inline-block" aria-label="Add one" title="Add one">
                                            <i class="fa fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </td>
                            <td class="text-center td-price" name="price">
                                <ul class="d-none js_add_cart_variants" t-att-data-attribute_exclusions="{'exclusions: []'}"></ul>
                                <div class="d-none oe_unchanged_value_ids" t-att-data-unchanged_value_ids="variant_values" ></div>
                                <div t-attf-class="text-danger oe_default_price oe_striked_price {{ (compute_currency(product.lst_price) - product.price) &lt; 0.01 and 'd-none' }}"
                                    t-field="product.lst_price"
                                    t-options='{
                                    "widget": "monetary",
                                    "from_currency": product.currency_id,
                                    "display_currency": to_currency
                                }'/>
                                <span class="oe_price product_id" style="white-space: nowrap;"
                                    t-att-data-product-id="product.id"
                                    t-esc="product.price"
                                    t-options='{
                                    "widget": "monetary",
                                    "display_currency": to_currency
                                }'/>
                                <span class="js_raw_price d-none" t-esc="product.price" />
                            </td>
                            <!--td class="text-center">
                                <span class="js_price_total font-weight-bold" style="white-space: nowrap;"
                                    t-att-data-product-id="product.id"
                                    t-esc="product.price"
                                    t-options='{
                                    "widget": "monetary",
                                    "display_currency": to_currency
                                }'/>
                            </td-->
                        </tr>
                        <tr class="o_total_row">
                            <td colspan="2"></td>
                            <td class="text-right"><h5>Total:</h5></td>
                            <td class="text-center">
                                <span class="js_price_total font-weight-bold" style="white-space: nowrap;"
                                    t-att-data-product-id="product.id"
                                    t-esc="product.price"
                                    t-options='{
                                    "widget": "monetary",
                                    "display_currency": to_currency
                                }'/>
                            </td>
                        </tr>
                        <tr t-if="product.optional_product_ids" class="o_select_options"><td colspan="5"><h4>Available Options:</h4></td></tr>
                        <t t-call="sale.optional_product_items" />
                    </tbody>
                 </table>
              </xpath>
        </template>
        
        
    </data>
</odoo>
