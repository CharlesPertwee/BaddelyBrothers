<odoo>
  <data>
	  <record id="view_partner_form_bb" model="ir.ui.view">
		<field name="name">res.partner.form.bb</field>
		<field name="model">res.partner</field>
		<field name="inherit_id" ref="base.view_partner_form"/>
		<field name="arch" type="xml">
            <xpath expr="//field[@name='type']" position="before">
				<field name="mainContact" attrs="{'invisible': [('is_company', '=', True)]}"/>
			</xpath>
            
			<xpath expr="//field[@name='vat']" position="after">
				<field name="reference" attrs="{'invisible': [('is_company', '=', False)]}"/>
				<field name="vatCountryCode" attrs="{'invisible': [('is_company', '=', False)]}"/>
				<field name="employeeCount" attrs="{'invisible': [('is_company', '=', False)]}"/>
			</xpath>
			
			<xpath expr="//field[@name='website']" position="after">
				<field name="sector" attrs="{'invisible': [('is_company', '=', False)]}"/>
				<field name="source" />
           </xpath>
			
			<xpath expr="//field[@name='function']" position="before">
				<xpath expr="//field[@name='title']" postion="move"/>
			</xpath>
			
			<xpath expr="//field[@name='employeeCount']" position="after">
				<xpath expr="//field[@name='lang']" position="move"/>
			</xpath>

			<xpath expr="//field[@name='function']" position="after">
				<field name="jobRole" attrs="{'invisible': [('is_company', '=', True)]}"/>
				<field name="contactExtention" attrs="{'invisible': [('is_company', '=', True)]}"/>
                <field name="mailingRestrictions" />
                
			</xpath>
            
            <xpath expr="//notebook[1]/page[1]" position="before">
                <page string="General" autofocus="autofocus">
                    <field name="companyLinks" context="{'default_company': active_id}" attrs="{'invisible': [('is_company', '=', False)]}">
                        <tree string="Companies">
                            <field name = 'main'/>
                            <field name = 'status'/>
                            <field name = 'contact'/>
                            <field name = 'jobTitle' />
                            <field name = 'jobRole'/>
                            <field name = 'relationship'/>
                            <field name = 'address'/>
                            <field name = 'phone'/>
                            <field name = 'mobile'/>
                            <field name = 'extension'/>
                            <field name = 'email'/>
                            <field name = 'fax'/>
                            <field name = 'temperament'/>
                        </tree>
                        <form string="Company">
                            <sheet>
                                <field name = 'company' invisible="1"/>
                                <field name = 'address' invisible="1" domain="['|',('id','=',company),'&amp;',('parent_id','=',company),('type','!=','contact')]"/>
                                <field name = 'relationship' invisible="1"/>
                                <field name = 'main' invisible="1"/>
                                <field name = 'temperament' invisible="1"/>
                                
                                <group name='details'>
                                    <group>
                                        <field name = 'contact' required="1"/>
                                        <field name = 'jobTitle' required="1"/>
                                        <field name = 'jobRole'/>
                                    </group>
                                    <group>
                                        <field name = 'email'/>
                                        <field name = 'phone'/>
                                        <field name = 'extension'/>
                                        <field name = 'mobile'/>
                                        <field name = 'fax'/>
                                    </group>
                                 </group>
                                 
                                <group string="Employement Details">
                                    <group>
                                        <field name = 'status'/>
                                    </group>
                                    <group>
                                        <field name = 'joiningDate'/>
                                        <field name = 'leavingDate' attrs="{'invisible': [('status', '=', 'current')]}"/>
                                    </group>
                                 </group>
                                 
                                <group string="Documents">
                                     <div class="container">
                                         <div class="row">
                                             <div class="col-sm">
                                                 <button string="Address Label" name="generate_address_label_report" type="object" class="oe_highlight"/>
                                             </div>
                                             <div class="col-sm">
                                                 <button string="Letter(for headed paper)" name="headed_letter_report" type="object" class="oe_highlight"/>
                                             </div>
                                             <div class="col-sm">
                                                 <button string="Letter(for blank paper)" name="blank_letter_report" type="object" class="oe_highlight"/>
                                             </div>
                                         </div>
                                     </div>
                                 </group>
                                
                            </sheet>
                        </form>
                        
                    </field>
                    
                    <field name="contactLinks" context="{'default_contact': active_id, 'default_main': mainContact}" attrs="{'invisible': [('is_company', '=', True)]}">
                        <tree string="Contacts">
                            <field name = 'main'/>
                            <field name = 'status'/>
                            <field name = 'company'/>
                            <field name = 'jobTitle' />
                            <field name = 'jobRole'/>
                            <field name = 'relationship'/>
                            <field name = 'address'/>
                            <field name = 'phone'/>
                            <field name = 'mobile'/>
                            <field name = 'extension'/>
                            <field name = 'email'/>
                            <field name = 'fax'/>
                            <field name = 'temperament'/>
                        </tree>
                        <form string="Company">
                            <sheet>
                                <field name = 'contact' invisible="1"/>
                                <field name = 'relationship' invisible="1"/>
                                <field name = 'main' invisible="1"/>
                                <field name = 'temperament' invisible="1"/>
                                <group name='details'>
                                    <group>
                                        <field name = 'company' required="1"/>
                                        <field name = 'address' domain="['|',('id','=',company),'&amp;',('parent_id','=',company),('type','!=','contact')]" required="1"/>
                                        <field name = 'jobTitle'/> 
                                        <field name = 'jobRole'/>
                                    </group>
                                    <group>
                                        <field name = 'email'/>
                                        <field name = 'phone'/>
                                        <field name = 'extension'/>
                                        <field name = 'mobile'/>
                                        <field name = 'fax'/>
                                    </group>
                                </group>
                                
                                <group string="Employement Details">
                                    <group>
                                        <field name = 'status'/>
                                    </group>
                                    <group>
                                        <field name = 'joiningDate'/>
                                        <field name = 'leavingDate' attrs="{'invisible': [('status', '=', 'current')]}"/>
                                    </group>
                                 </group>
                                 
                                 <group string="Documents">
                                     <div class="container">
                                         <div class="row">
                                             <div class="col-sm">
                                                 <button string="Address Label" name="generate_address_label_report" type="object" class="oe_highlight"/>
                                             </div>
                                             <div class="col-sm">
                                                 <button string="Letter(for headed paper)" name="headed_letter_report" type="object" class="oe_highlight"/>
                                             </div>
                                             <div class="col-sm">
                                                 <button string="Letter(for blank paper)" name="blank_letter_report" type="object" class="oe_highlight"/>
                                             </div>
                                         </div>
                                     </div>
                                 </group>
                                
                            </sheet>
                        </form>
                        
                    </field>
                </page>
            </xpath>
		</field>
	 </record>	  
  </data>
</odoo>
