<odoo>
  <data>
	  <record id="view_partner_form_bb" model="ir.ui.view">
		<field name="name">res.partner.form.bb</field>
		<field name="model">res.partner</field>
		<field name="inherit_id" ref="base.view_partner_form"/>
		<field name="arch" type="xml">
            <xpath expr="//field[@name='type']" position="before">
				<field name="mainContact" attrs="{'invisible': [('is_company', '=', True)]}"/>
			</xpath>
            
			<xpath expr="//field[@name='vat']" position="after">
				<field name="reference" attrs="{'invisible': [('is_company', '=', False)]}"/>
				<field name="vatCountryCode" attrs="{'invisible': [('is_company', '=', False)]}"/>
				<field name="employeeCount" attrs="{'invisible': [('is_company', '=', False)]}"/>
			</xpath>
			
			<xpath expr="//field[@name='website']" position="after">
				<field name="sector" attrs="{'invisible': [('is_company', '=', False)]}"/>
				<field name="source" />
           </xpath>
			
			<xpath expr="//field[@name='function']" position="before">
				<xpath expr="//field[@name='title']" postion="move"/>
			</xpath>
			
			<xpath expr="//field[@name='employeeCount']" position="after">
				<xpath expr="//field[@name='lang']" position="move"/>
			</xpath>

			<xpath expr="//field[@name='function']" position="after">
				<field name="jobRole" attrs="{'invisible': [('is_company', '=', True)]}"/>
				<field name="contactExtention" attrs="{'invisible': [('is_company', '=', True)]}"/>
                <field name="mailingRestrictions" />
                
			</xpath>
            
            <xpath expr="//notebook[1]/page[1]" position="before">
                <page string="General" autofocus="autofocus">
                    <field name="companyLinks" context="{'default_company': active_id}" attrs="{'invisible': [('is_company', '=', False)]}">
                        <tree string="Companies">
                            <field name = 'status'/>
                            <field name = 'contact'/>
                            <field name = 'jobTitle' />
                            <field name = 'jobRole'/>
                            <field name = 'relationship'/>
                            <field name = 'address'/>
                            <field name = 'phone'/>
                            <field name = 'mobile'/>
                            <field name = 'extension'/>
                            <field name = 'email'/>
                            <field name = 'fax'/>
                        </tree>
                        <form string="Company">
                            <sheet>
                                <group col='4' colspan='4' name='details'>
                                    
                                     <field name = 'status'/>
                                     <field name = 'company' invisible="1"/>
                                     <field name = 'contact' required="1"/>
                                     <field name = 'jobTitle' required="1"/>
                                     <field name = 'jobRole'/>
                                     <field name = 'relationship'/>
                                     <field name = 'address'/>
                                     <field name = 'phone'/>
                                     <field name = 'mobile'/>
                                     <field name = 'extension'/>
                                     <field name = 'email'/>
                                     <field name = 'fax'/>
                                 </group>
                                 <group string="Employement Details" invisible="1">
                                     <field name = 'status'/>
                                     <field name = 'joiningDate'/>
                                     <field name = 'leavingDate'/>
                                 </group>
                            </sheet>
                        </form>
                        
                    </field>
                    
                    <field name="contactLinks" context="{'default_contact': active_id}" attrs="{'invisible': [('is_company', '=', True)]}">
                        <tree string="Contacts">
                            <field name = 'status'/>
                            <field name = 'company'/>
                            <field name = 'jobTitle' />
                            <field name = 'jobRole'/>
                            <field name = 'relationship'/>
                            <field name = 'address'/>
                            <field name = 'phone'/>
                            <field name = 'mobile'/>
                            <field name = 'extension'/>
                            <field name = 'email'/>
                            <field name = 'fax'/>
                        </tree>
                        <form string="Company">
                            <sheet>
                                <group col='4' colspan='4' name='details'>
                                    
                                     <field name = 'status'/>
                                     <field name = 'company'/>
                                     <field name = 'contact' invisible="1"/>
                                     <field name = 'jobTitle'/>
                                     <field name = 'jobRole'/>
                                     <field name = 'relationship'/>
                                     <field name = 'address'/>
                                     <field name = 'phone'/>
                                     <field name = 'mobile'/>
                                     <field name = 'extension'/>
                                     <field name = 'email'/>
                                     <field name = 'fax'/>
                                 </group>
                                 <group string="Employement Details">
                                     <field name = 'status'/>
                                     <field name = 'joiningDate'/>
                                     <field name = 'leavingDate'/>
                                 </group>
                            </sheet>
                        </form>
                        
                    </field>
                </page>
            </xpath>
		</field>
	 </record>	  
  </data>
</odoo>
